# DOM XSS in `document.write` sink using source `location.search`
* This lab contains a DOM-based XSS vulnerability in the search query tracking functionality. It uses the JavaScript `document.write` function, which writes data out to the page. The `document.write` function is called with data from `location.search`, which you can control using the website URL.
 * To solve lab, perform a XXS attack that calls the `alert` function
 ### 1. Test the search function on the webpage by entering randome value
 ![46](https://user-images.githubusercontent.com/53956303/153287161-ec629283-571b-42e3-883a-1ee8f56b5e28.png)
* Press `F12` button on the Firefox to access the Inspector
	* Then, use "Search HTML" panel to find the test string that yuo entered

![47](https://user-images.githubusercontent.com/53956303/153287773-53f3da8a-1bfc-4eb9-8ece-9137b11a1a36.png)
* From the result, the entered string is stored into a source tag
```html
<img src="/resource/images/tracker.gif?searchTerms=TEST123">
```
### 2. Test an exploit on the search bar
```html
"><svg onload=alert(1)>
```
* When the exploit is sent, an alert is popped up

![48](https://user-images.githubusercontent.com/53956303/153288579-653d69e1-00a1-4d43-a9b5-eb93c482cfc6.png)
* Bacuase of the `">`, the string right before is closed and a new JavaScript alert is executed.

![49](https://user-images.githubusercontent.com/53956303/153288858-56c94fdf-aed1-4401-a56a-4238e2080082.png)
* The lab is solved

![50](https://user-images.githubusercontent.com/53956303/153288998-4e8b131c-445c-4c2a-98d2-4e02b0808e87.png)
