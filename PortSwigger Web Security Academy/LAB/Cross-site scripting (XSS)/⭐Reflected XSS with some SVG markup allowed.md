# Reflected XSS with some SVG markup allowed
* This lab has a simple reflected XSS vulnerability. The site is blocking common tags but misses some SVG tags and events.
	* To solve the lab, perform a XSS attack that calls the _alert()_ function.
### 1. Inject a standard XSS payload
```html
<img src=1 onerror=alert(1)>
```
* The payload is blocked

![17](https://user-images.githubusercontent.com/53956303/153078282-a251df9e-27f7-4f63-bb78-bc70e9febd52.png)
### 2. Send the request to intruder and set the position
* Claear position, replace the value of the search term with `<>`, then, click "Add ยง" twice to create a payload position.

![18](https://user-images.githubusercontent.com/53956303/153078561-0a2f80d3-5d55-4da9-91f6-e36240785c4d.png)
### 3. Pate the tag payloads from [XSS cheat sheet](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet)

![19](https://user-images.githubusercontent.com/53956303/153078748-0dfac27c-e511-42fb-a7ad-ade004918316.png)
* Then start attack.
	* From the result, payloads "animatetransform","image","svg" and "title" return 200 response.

![20](https://user-images.githubusercontent.com/53956303/153080882-c4059839-239b-47b8-bfb8-b196434bf645.png)
### 4. Go back to Intruder and replace the payload with obtained tags
```html
<svg><animatetransform%20=1>
```
* Then, "Add ยง" twice to create a payload position after "%20".

![21](https://user-images.githubusercontent.com/53956303/153081084-47d557ac-c73b-4346-8724-88c5cdc90aa8.png)
### 5. Paste the event payloads from [XSS cheat sheet](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet)
![22](https://user-images.githubusercontent.com/53956303/153081257-f93a305d-a8ad-4f24-984c-3e11b87865af.png)
* Then, start attck.
	* From the result, a payload _onbegin_ returns 200 response

![23](https://user-images.githubusercontent.com/53956303/153081981-96f834de-7437-42ff-8374-979932dadc18.png)

### 6. Trriger the exploit by visitng this URL
* Use this payalod `"><svg><animatetransform onbegin=alert(1)>` (URL encode)
```http
https://acf91f011e462786c0a71a8f00a30062.web-security-academy.net/?search=%22%3E%3Csvg%3E%3Canimatetransform%20onbegin=alert(1)%3E
```
* As a result, an alert panel is given

![24](https://user-images.githubusercontent.com/53956303/153081892-692f857e-5b54-49b9-b635-38f68fb7e92d.png)
