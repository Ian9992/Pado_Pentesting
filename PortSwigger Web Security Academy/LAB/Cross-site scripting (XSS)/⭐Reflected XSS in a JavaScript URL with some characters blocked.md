# Reflected XSS in a JavaScript URL with some characters blocked
* THis lab reflects your input in a JavaScript URL, but all is not as it seems. This initially seems like a trival challenge; however, the application is blocking some characters in an attempt to prevent XSS attacks.
  * To solve the lab, perform a XSS attack that calls the _alert_ function with the string _1337_ contained somewhere in the _alert_ message.

### 1. Visit the following URL
* use `&'},x=x=>{throw/**/onerror=alert,1337},toString=x,window+'',{x:'` as a payload (URL ENCODE)
```http
https://acdc1f9b1ed4de0ec0e120c9009a00c8.web-security-academy.net/post?postId=5&%27},x=x=%3E{throw/**/onerror=alert,1337},toString=x,window%2b%27%27,{x:%27
```
* The lab will be solved, but the alert will only be called if you click "Back to blog" at the bottom of the page.
  * The exploit uses exception handling to call the _alert_ function with arguments.
  * The _throw_ statement is used, separated with a blank comment in order to get round the no spaces restriction.
  * The _alert_ function is assigned to the _onerror_ exception handler.

* As _throw_ is a statement, it cannot be used as an expression. Instead, we need to use arrow functions to create a block so that the _throw_ statement can be used. We then need to call this function, so we assgin it to the _toString_ property of _window_ and trigger this by forcing a string conversion on _window_.
