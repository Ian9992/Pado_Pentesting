# Exploiting XXE using external entities to retrieve files
* This lab has a "Check stock" feature that parses XML input and returns any unexpected values in the response.
	* To solve the lab, inject an XML enternal entity to retrieve the contents of the `/etc/passwd` file.

### 1. Capture the request of _POST /product/stock_
* Then, send it to repater for modification.

![1](https://user-images.githubusercontent.com/53956303/152624473-2b9d25ca-2887-464c-af76-4d7bf0fec3b8.png)
### 2. Insert an external entity definition
* Insert an external entity definition after the XML decalaration.
```xml
<!DOCTYPE foo [ <!ENTITY xxe SYSTEM "file:///etc/passwd"> ]>
```
* Then, modify _productId_ to the declared external entity

![2](https://user-images.githubusercontent.com/53956303/152624751-5a7796f7-6f01-4e25-988a-a3a3239e087f.png)
* When the request is sent, the `/etc/passwd` file is given and the lab is solved.

![3](https://user-images.githubusercontent.com/53956303/152624793-bb01c90d-4a8a-4cb5-86d8-75285332c759.png)
![4](https://user-images.githubusercontent.com/53956303/152624821-66389526-190b-422c-9b03-98c7c72c2a0c.png)
