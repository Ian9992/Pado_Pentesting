# Exploiting XInclude to retrieve files
* This lab has a "Check stock" feature that embeds the user input inside a server-side XML document that is subsequently parsed.
	* Because you don't control the entire XML document you can't define a DTD to launch a classic XXE attack.
	* To solve the lab, inject an _XInclude_ statement to retrieve the contents of the `/etc/passwd` file.
  * By the default, _XInclude_ will try to parse the included document as XML. Since `/etc/passwd` is not valid XML, you will need to an extra attribute to the _XInclude_ directive to change this behavior.

### 1. Send the _Post /product/stock_ requst to repeater to modify
* Insert an exploit to the value of _productId_ parameter
```xml
<foo xmlns:xi="http://www.w3.org/2001/XInclude"><xi:include parse="text" href="file:///etc/passwd"/></foo>
```
* Then, send the request

![21](https://user-images.githubusercontent.com/53956303/152893563-ed4ea616-8667-41fc-927d-4a00e611f082.png)
* As a result, contents of the `/etc/passwd` is given, and the lab is solved.

![22](https://user-images.githubusercontent.com/53956303/152893637-5a034355-6f7b-4057-8f4b-9b4fb080edfb.png)
