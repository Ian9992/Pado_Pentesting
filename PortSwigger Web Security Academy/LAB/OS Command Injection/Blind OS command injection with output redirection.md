# Blind OS command injection with output redirection
* This lab contains a blind OS command injection vulnerability in the feedback function.
* The application executes a shell command cotnaining the user-supplied details. The output from the command is not returned in the response. However, you can use output redirection to capture the output from the command. There is a writable folder at `/var/www/images`.
	* The application serves hte images for the product catalog from this location. You can redirect the output from the injected command to a file in this folder, and then use the image loading URL to retrieve the contents of the file.
	* To solve the lab, execute the `whoami` command and retrieve the output.

### 1. Identify the possible vulnerable point
* Capture a request of a possibly vulnerable function "Submit feedback"

![9](https://user-images.githubusercontent.com/53956303/162083396-fc52b997-b1f1-4e81-90e6-96aca8387c19.png)
### 2. Inject an OS command to save the result of `whoami` into a file
* Inject an OS command after the value of a parameter "email"
	* Since the `/var/www/images/` directory is writable, store the output into that directory.
```bash
email=email@email.com||whoami>/var/www/images/output.txt||
```
* As a result, 200 OK response is given. However, no information is given from the response. It looks a blind OS command injection.
### 3. Call the output file
* Use the `filename` parameter from an image on a post, the output of the command can be called.

![10](https://user-images.githubusercontent.com/53956303/162084645-41aa4742-a60d-45b1-b0a1-d4025f3f0786.png)
* As a result, the lab is solved.

![11](https://user-images.githubusercontent.com/53956303/162084793-71530807-ca23-41ea-972e-011e2dcd0ae9.png)
