# Manipulating WebSocket messages to exploit vulnerabilities
* This online shop has a live chat feature implemented using Websockets.
* Chat messages that you submit are viewed by a support agent in real time.
	* To solve the lab, use a WebSocket message to trigger an `alert()` popup in the support agent's browser.

### 1. Send a message using the Live chat and enumerate the WebSockets history

![1](https://user-images.githubusercontent.com/53956303/157154307-ba4e8a03-e90b-485a-af09-5b377c7d74f1.png)
### 2. Modify the WebSocket Message using Burp Repeater
* Use this malicious JSON as an exploit to pop up an alert.
```json
{"message":"<img src=1 onerror='alert(1)'>"}
```
![2](https://user-images.githubusercontent.com/53956303/157154498-b47cbff0-e246-4dfc-a91c-d3b540fc09ce.png)
* Then, send the request.
	* As a result, the malicious WebSocket message is sent to the chat agent, and the exploit is triggered.

![3](https://user-images.githubusercontent.com/53956303/157154610-403690dc-1a89-41e4-9f51-611c6cbe67d0.png)
* The lab is solved.

![4](https://user-images.githubusercontent.com/53956303/157154667-a61b400e-ef9d-48ea-9f4d-77e7709ac436.png)
