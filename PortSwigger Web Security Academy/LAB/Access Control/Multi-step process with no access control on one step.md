# Multi-step process with no access control on one step
* This lab has an admin panel with a flawed multi-step process for changing a user's role. You can familiarize yourself with the admin panel by logging in using the credentials `administrator:admin`
	* To solve the lab, log in using the credentials `wiener:peter` and exploit the flawed access controls to promote yourself to become an administrator.

### 1. Familiarize functions using the admin account
* Test update _carlos's_ privilege
1.	First step

![45](https://user-images.githubusercontent.com/53956303/152063550-9cd1ebb6-6a46-435d-b83b-cfb17f32cd42.png)
![46](https://user-images.githubusercontent.com/53956303/152063654-50e13f42-8ab9-4f05-aa0b-68886b57cd0d.png)

2.	Second Step

![47](https://user-images.githubusercontent.com/53956303/152063722-f7bd1799-cda8-4889-a444-7608821c2317.png)
![48](https://user-images.githubusercontent.com/53956303/152063791-3d00b782-7233-4d73-a1a8-e8bc26669034.png)
* From the research, the fact the the second step just add a parameter `confirmed=true`. Therefore, the first step can be bypassed.
	* Send the second step request to repeater and obtain the non-admin user _wiener_'s cookie from a private/incognito tab
### 2. Paste the _wiener_'s cookie and change `username=carlos` to `username=wiener`
* Then, send the request

![49.1](https://user-images.githubusercontent.com/53956303/152064737-4fa26cb3-41fa-43fa-b47e-61919d8470a0.png)
* As a result, the wiener got the admin privilege and the lab is solved

![49](https://user-images.githubusercontent.com/53956303/152064405-3bd1bb61-303b-4323-accf-cb33493d277d.png)
